# ===========================================
# Drykorn Vertragsmanagement - Umgebungsvariablen
# ===========================================
#
# Kopieren nach:
#   - .env.local     (lokale Entwicklung)
#   - .env           (Server für Docker)
#
# Alle Passwörter durch sichere Werte ersetzen!

# ===========================================
# Server-Konfiguration (nur für Docker)
# ===========================================
# IP-Adresse oder Hostname des Servers im internen Netzwerk
# Beispiel: 192.168.1.100 oder contracts-server.local
SERVER_IP=192.168.1.100

# ===========================================
# Datenbank (PostgreSQL 18)
# ===========================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=drykorn_contracts
DATABASE_USER=drykorn
DATABASE_PASSWORD=CHANGE_ME_secure_password_123

# Zusammengesetzte URL (wird automatisch generiert)
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}?schema=public

# ===========================================
# Redis (Sessions & Cache)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_redis_password_456

REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# ===========================================
# MinIO (Dokumentenspeicher)
# ===========================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=CHANGE_ME_minio_access
MINIO_SECRET_KEY=CHANGE_ME_minio_secret_key_789
MINIO_BUCKET_NAME=drykorn-contracts

# ===========================================
# Keycloak (Authentifizierung)
# ===========================================
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_PORT=8080
KEYCLOAK_REALM=drykorn-contracts
KEYCLOAK_CLIENT_ID=contract-management
KEYCLOAK_CLIENT_SECRET=CHANGE_ME_client_secret
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_admin_password_abc

# ===========================================
# Sicherheit
# ===========================================
# JWT Secret für interne Token (min. 32 Zeichen)
# Generieren mit: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32

# Token-Lebensdauer
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# AES-256 Verschlüsselungsschlüssel (64 Hex-Zeichen)
# Generieren mit: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32_chars

# ===========================================
# API-Konfiguration
# ===========================================
API_HOST=localhost
API_PORT=3001
API_PREFIX=api/v1

# CORS - Erlaubte Origins
# Lokal: http://localhost:3000
# Server: http://192.168.1.100:3000 (oder :4000 für Prod)
CORS_ORIGINS=http://localhost:3000

# Rate Limiting (Requests pro Minute)
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ===========================================
# Frontend (Next.js)
# ===========================================
# Lokal:
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1
NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8080
NEXT_PUBLIC_KEYCLOAK_REALM=drykorn-contracts
NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=contract-management

# ===========================================
# Logging
# ===========================================
# Levels: debug | info | warn | error
LOG_LEVEL=debug

# ===========================================
# Umgebung
# ===========================================
# development | staging | production
NODE_ENV=development
